<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Drift Cars - Drift to Gift</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0f0f0f, #1a1a1a);
            color: #ffffff;
            line-height: 1.6;
        }

        /* Navigation */
        nav {
            background: rgba(0, 0, 0, 0.8);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            gap: 30px;
        }

        nav a {
            color: #ff8c00;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }

        nav a:hover {
            color: #ff4500;
        }

        /* Page Header */
        .page-header {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, rgba(0,0,0,0.7), rgba(0,0,0,0.9));
        }

        .page-header h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(90deg, #ff4500, #ff8c00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Car Display Section */
        .car-display {
            max-width: 1400px;
            margin: 40px auto;
            padding: 20px;
        }

        .car-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .car-card {
            background: rgba(26, 26, 26, 0.95);
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .car-card:hover {
            transform: translateY(-5px);
        }

        .car-image {
            width: 100%;
            height: 200px;
            background-size: cover;
            background-position: center;
        }

        .car-info {
            padding: 20px;
        }

        .car-info h3 {
            color: #ff8c00;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .car-specs {
            list-style: none;
        }

        .car-specs li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .car-specs li:before {
            content: "•";
            color: #ff8c00;
            position: absolute;
            left: 0;
        }

        .view-details {
            display: inline-block;
            background: linear-gradient(90deg, #ff4500, #ff8c00);
            color: #fff;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            margin-top: 15px;
            transition: transform 0.3s ease;
        }

        .view-details:hover {
            transform: translateY(-2px);
        }

        /* 3D Viewer Styles */
        .model-viewer-section {
            max-width: 1400px;
            margin: 40px auto;
            padding: 20px;
        }

        .model-container {
            background: rgba(26, 26, 26, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        #model-viewer {
            width: 100%;
            height: 500px;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            background: rgba(0, 0, 0, 0.3);
        }

        .model-controls {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
        }

        .model-controls button {
            background: linear-gradient(90deg, #ff4500, #ff8c00);
            color: #fff;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .model-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 140, 0, 0.4);
        }

        .loading-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ff8c00;
            font-size: 1.2rem;
        }

        /* Add these responsive styles */
        @media (max-width: 768px) {
            .page-header h1 {
                font-size: 2rem;
            }

            #model-viewer {
                height: 300px;
            }

            .model-controls {
                justify-content: center;
            }

            .model-controls button {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }

        /* Add car description section styles */
        .car-description-section {
            max-width: 1400px;
            margin: 40px auto;
            padding: 20px;
        }

        .car-description-container {
            background: rgba(26, 26, 26, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .car-description-container h2 {
            color: #ff8c00;
            margin-bottom: 20px;
            font-size: 2rem;
        }

        .car-description-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .car-description-text {
            line-height: 1.8;
        }

        .car-specs-list {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
        }

        .car-specs-list h3 {
            color: #ff8c00;
            margin-bottom: 15px;
        }

        .car-specs-list ul {
            list-style: none;
        }

        .car-specs-list li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .car-specs-list li:before {
            content: "→";
            color: #ff8c00;
            position: absolute;
            left: 0;
        }

        @media (max-width: 768px) {
            .car-description-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Hamburger Menu Styles */
        .menu-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px;
        }

        .menu-toggle span {
            display: block;
            width: 25px;
            height: 3px;
            margin: 5px 0;
            background: #ff8c00;
            transition: all 0.3s ease;
        }

        .drawer {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            z-index: 999;
            transition: left 0.3s ease;
            padding: 80px 20px 20px;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
        }

        .drawer.open {
            left: 0;
        }

        .drawer ul {
            flex-direction: column;
            gap: 20px;
        }

        .drawer a {
            font-size: 1.2rem;
            display: block;
            padding: 10px;
        }

        .menu-toggle.open span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .menu-toggle.open span:nth-child(2) {
            opacity: 0;
        }

        .menu-toggle.open span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            nav {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Hamburger Menu Button -->
    <button class="menu-toggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Drawer Navigation -->
    <div class="drawer">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="marketing.html">Marketing</a></li>
            <li><a href="events.html">Events</a></li>
            <li><a href="donate.html">Donate</a></li>
        </ul>
    </div>

    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="marketing.html">Marketing</a></li>
            <li><a href="events.html">Events</a></li>
            <li><a href="donate.html">Donate</a></li>
        </ul>
    </nav>

    <div class="page-header">
        <h1>Our Drift Cars</h1>
        <p>Experience the power and precision of our professional drift machines</p>
    </div>

    <div class="car-display">
        <div class="car-grid">
            <!-- Car cards will go here -->
        </div>
    </div>

    <!-- 3D Model Viewer Section -->
    <div class="model-viewer-section">
        <div class="model-container">
            <div id="model-viewer">
                <div class="loading-indicator">Loading Model...</div>
            </div>
            <div class="model-controls">
                <button id="rotate-left">Rotate Left</button>
                <button id="rotate-right">Rotate Right</button>
                <button id="zoom-in">Zoom In</button>
                <button id="zoom-out">Zoom Out</button>
            </div>
        </div>
    </div>

    <!-- Car Description Section -->
    <div class="car-description-section">
        <div class="car-description-container">
            <h2>Mazda RX-7: The Perfect Drift Machine</h2>
            <div class="car-description-grid">
                <div class="car-description-text">
                    <p>The Mazda RX-7 FD has earned its legendary status in drift culture through a unique combination of engineering excellence and perfect balance. Powered by the iconic 13B-REW twin-rotor engine, the RX-7 delivers smooth, linear power that's ideal for maintaining controlled slides.</p>
                    <br>
                    <p>What makes the RX-7 particularly suited to drifting is its near-perfect 50:50 weight distribution, lightweight chassis, and compact engine design. The rotary engine sits behind the front axle, creating a front-mid-engine layout that provides exceptional balance during dynamic maneuvers.</p>
                    <br>
                    <p>The car's natural tendency to rotate, combined with its responsive steering and manageable wheelbase, makes it an excellent platform for both beginner and professional drift drivers. The aftermarket support for the RX-7 is extensive, allowing for substantial modifications to enhance its drifting capabilities.</p>
                </div>
                <div class="car-specs-list">
                    <h3>Key Drift Specifications</h3>
                    <ul>
                        <li>Lightweight chassis (1,300kg)</li>
                        <li>Near perfect 50:50 weight distribution</li>
                        <li>Front-mid engine layout</li>
                        <li>Excellent power-to-weight ratio</li>
                        <li>High-revving rotary engine</li>
                        <li>Limited-slip differential</li>
                        <li>Double wishbone suspension</li>
                        <li>Wide aftermarket support</li>
                        <li>Responsive steering geometry</li>
                        <li>Ideal wheelbase for drifting</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Three.js Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

    <script>
        let scene, camera, renderer, model, controls;
        const modelViewer = document.getElementById('model-viewer');

        function setupLighting() {
            // Ambient light - reduced by 50%
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.2);
            scene.add(ambientLight);

            // Main key light - reduced by 50%
            const keyLight = new THREE.DirectionalLight(0xffd2a1, 0.6);
            keyLight.position.set(3, 4, 2);
            keyLight.castShadow = true;
            keyLight.shadow.mapSize.width = 2048;
            keyLight.shadow.mapSize.height = 2048;
            scene.add(keyLight);

            // Fill light - reduced by 50%
            const fillLight = new THREE.DirectionalLight(0xa6c1ff, 0.25);
            fillLight.position.set(-2, 2, -1);
            scene.add(fillLight);

            // Rim light - reduced by 50%
            const rimLight = new THREE.DirectionalLight(0xff8c00, 0.3);
            rimLight.position.set(2, 3, -2);
            scene.add(rimLight);

            // Spotlight - reduced by 50%
            const spotlight = new THREE.SpotLight(0xffffff, 0.2);
            spotlight.position.set(3, 5, 2);
            spotlight.angle = Math.PI / 4;
            spotlight.penumbra = 0.2;
            spotlight.decay = 2;
            spotlight.distance = 200;
            spotlight.castShadow = true;
            scene.add(spotlight);
        }

        function init() {
            // Scene setup
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x1a1a1a);

            // Camera setup
            camera = new THREE.PerspectiveCamera(35, modelViewer.clientWidth / modelViewer.clientHeight, 0.1, 1000);
            camera.position.set(0.8, 0.35, 0.8); // Was (0.7, 0.3, 0.7)

            // Renderer setup
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(modelViewer.clientWidth, modelViewer.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
            modelViewer.appendChild(renderer.domElement);

            // Controls setup
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;

            // Add the new lighting
            setupLighting();

            // Load model
            const loader = new THREE.GLTFLoader();
            loader.load(
                'assets/models/ac_cars/mazda_rx-7_tuned.glb',
                function (gltf) {
                    model = gltf.scene;
                    model.scale.set(0.08, 0.08, 0.08);
                    model.position.set(0, -0.05, 0);
                    model.rotation.y = Math.PI / 4;

                    // Enable shadows and enhance materials
                    model.traverse((node) => {
                        if (node.isMesh) {
                            node.castShadow = true;
                            node.receiveShadow = true;
                            if (node.material) {
                                node.material.envMapIntensity = 1;
                                node.material.needsUpdate = true;
                            }
                        }
                    });

                    scene.add(model);

                    // Center camera on model
                    const box = new THREE.Box3().setFromObject(model);
                    const center = box.getCenter(new THREE.Vector3());
                    controls.target.copy(center);

                    // Back to previous camera limits
                    controls.maxDistance = 1.7; // Was 1.5
                    controls.minDistance = 0.7; // Was 0.6
                    controls.maxPolarAngle = Math.PI / 2;
                    controls.minPolarAngle = 0.1;

                    // Remove loading indicator
                    document.querySelector('.loading-indicator').style.display = 'none';
                },
                function (xhr) {
                    const percent = (xhr.loaded / xhr.total * 100).toFixed(1);
                    document.querySelector('.loading-indicator').textContent = 
                        `Loading: ${percent}%`;
                },
                function (error) {
                    console.error('Error loading model:', error);
                    document.querySelector('.loading-indicator').textContent = 
                        'Error loading model. Check console for details.';
                }
            );

            animate();
        }

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }

        // Controls
        document.getElementById('rotate-left').addEventListener('click', () => {
            if (model) {
                model.rotation.y += Math.PI / 4;
            }
        });

        document.getElementById('rotate-right').addEventListener('click', () => {
            if (model) {
                model.rotation.y -= Math.PI / 4;
            }
        });

        document.getElementById('zoom-in').addEventListener('click', () => {
            camera.position.z = Math.max(2, camera.position.z - 1);
        });

        document.getElementById('zoom-out').addEventListener('click', () => {
            camera.position.z = Math.min(10, camera.position.z + 1);
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = modelViewer.clientWidth / modelViewer.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(modelViewer.clientWidth, modelViewer.clientHeight);
        });

        // Initialize when page loads
        window.addEventListener('load', init);

        // Menu Drawer functionality
        const menuToggle = document.querySelector('.menu-toggle');
        const drawer = document.querySelector('.drawer');

        menuToggle.addEventListener('click', () => {
            menuToggle.classList.toggle('open');
            drawer.classList.toggle('open');
        });

        // Close drawer when clicking outside
        document.addEventListener('click', (e) => {
            if (!drawer.contains(e.target) && !menuToggle.contains(e.target)) {
                menuToggle.classList.remove('open');
                drawer.classList.remove('open');
            }
        });
    </script>
</body>
</html> 